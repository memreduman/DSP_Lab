function y = LP_Filter(x)
%LP_FILTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.13 and DSP System Toolbox 9.15.
% Generated on: 22-Mar-2023 20:40:54

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Lowpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 24000;  % Sampling Frequency
    %
    % Fpass = 4000;            % Passband Frequency
    % Fstop = 5000;            % Stopband Frequency
    % Dpass = 0.057501127785;  % Passband Ripple
    % Dstop = 0.0001;          % Stopband Attenuation
    % dens  = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass, Fstop]/(Fs/2), [1 0], [Dpass, Dstop]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.000688546891399176 -0.00248389936317803 ...
        -0.00476005584879144 -0.00521179806177837 -0.00143141380487159 ...
        0.00608397326668251 0.0126165460427631 0.0124010569364398 ...
        0.00457659642639811 -0.00424791729747636 -0.00527092906540592 ...
        0.00310770040529967 0.0118962759056188 0.00992787113518348 ...
        -0.00308697577294653 -0.0137479281643418 -0.00841463516891386 ...
        0.00980100937588909 0.0208316947623251 0.0086546978636138 ...
        -0.0174566463588611 -0.0279154490143607 -0.00462231690317219 ...
        0.0327437464996931 0.0398125742538291 -0.00485537536252252 ...
        -0.0643520587974591 -0.0640817420416758 0.0404347943744147 ...
        0.210101270358841 0.339846327976015 0.339846327976015 0.210101270358841 ...
        0.0404347943744147 -0.0640817420416758 -0.0643520587974591 ...
        -0.00485537536252252 0.0398125742538291 0.0327437464996931 ...
        -0.00462231690317219 -0.0279154490143607 -0.0174566463588611 ...
        0.0086546978636138 0.0208316947623251 0.00980100937588909 ...
        -0.00841463516891386 -0.0137479281643418 -0.00308697577294653 ...
        0.00992787113518348 0.0118962759056188 0.00310770040529967 ...
        -0.00527092906540592 -0.00424791729747636 0.00457659642639811 ...
        0.0124010569364398 0.0126165460427631 0.00608397326668251 ...
        -0.00143141380487159 -0.00521179806177837 -0.00476005584879144 ...
        -0.00248389936317803 -0.000688546891399176]);
end

y = step(Hd,double(x));


% [EOF]
